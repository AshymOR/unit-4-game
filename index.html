<!DOCTYPE html>
<html>
<head>
  <title>homework 4</title>

  <style type="text/css">

    .crystal-image {
      width: 300px;
      height: 300px;
    }
  </style>

</head>
<body>

  <h1>Target score <span id="number-to-guess"></span></h1>
  <h1>Wins: <span id="number-of-wins"></span></h1>
  <h1>Losses: <span id="number-of-losses"></span></h1>

  
  <div id="crystals">
  </div>

  
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

  <script type="text/javascript">

  var targetNumber = Math.floor(Math.random()*120) +19;

  $("#number-to-guess").text(targetNumber);

  $("#number-of-wins").text(won);

  $("#number-of-losses").text(loss);

  var counter = 0;
  var won = 0;
  var loss = 0;
    
        
    
  

  
  for (var i = 0; i < 4; i++) {

    var numberOptions = Math.floor(Math.random()*12) + 1; 
    
    var imageCrystal = $("<img>");

    imageCrystal.addClass("crystal-image");

    imageCrystal.attr("src", "http://cdn.playbuzz.com/cdn/35910209-2844-45c0-b099-f4d82878d54f/00261fda-4062-4096-81fd-8cf96b9034e8.jpg");

    
    imageCrystal.attr("data-crystalvalue", numberOptions);

    
    $("#crystals").append(imageCrystal);
  }

  

  $(document).on("click", ".crystal-image", function() {

    

    var crystalValue = ($(this).attr("data-crystalvalue"));
    crystalValue = parseInt(crystalValue);
    
    counter += crystalValue;

    
    alert("New score: " + counter);

    if (counter === targetNumber) {
      alert("You win!");
      won++;
      targetNumber = Math.floor(Math.random()*120) +19;
      numberOptions = Math.floor(Math.random()*12) + 1;
      $("#number-to-guess").text(targetNumber);
      imageCrystal.attr("data-crystalvalue", numberOptions);
      counter = 0;
    }

    else if (counter >= targetNumber) {
      alert("You lose!!");
      loss++;
      targetNumber = Math.floor(Math.random()*120) +19;
      numberOptions = Math.floor(Math.random()*12) + 1;
      $("#number-to-guess").text(targetNumber);
      imageCrystal.attr("data-crystalvalue", numberOptions);
      counter = 0;
    }

  });

  </script>
</body>
</html>
